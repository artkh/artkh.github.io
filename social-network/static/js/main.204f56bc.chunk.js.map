{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.scss","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","App.js","serviceWorker.js","redux/redux-store.js","index.js","components/hoc/withAuthRedirect.jsx","redux/auth-reducer.js","components/elements/Preloader.jsx","components/Header/Header.module.scss","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/friends-reducer.js","assets/image/preloader.gif","components/elements/Preloader.module.scss"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unfollowUser","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","loginAPI","getLogin","login","email","password","rememberMe","logout","module","exports","Navbar","props","className","s","navbar","nav","to","activeClassName","active","link_settings","compose","withAuthRedirect","news","music","settings","Header","header","inner","href","logo","src","alt","auth","isAuth","onClick","auth__login","HeaderContainer","this","logoutAuthThunk","React","Component","connect","state","initialState","initialized","appReducer","action","type","ProfileContainer","lazy","FriendsContainer","DialogsContainer","Login","App","initializeAppThunk","path","render","fallback","Preloader","component","News","Music","Settings","app","dispatch","promise","getLoginThunk","Promise","all","Boolean","window","location","hostname","match","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","friendsPage","friendsReducer","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","mapStateToPropsRedirect","RedirectComponent","setAuthUserData","resultCode","id","loginAuthThunk","messages","length","stopSubmit","_error","preloader","postsData","like","profileData","textStatus","addPostActionCreator","postText","changeStatus","getProfileThunk","a","getStatusThunk","updateStatusThunk","newPost","stateCopy","unshift","newPostText","filter","p","postId","dialogsData","name","messagesData","img","class","sendMessageActionCreator","newMessage","copyState","push","friendsData","totalCount","isLoading","followingIsProgress","setCurrentPage","pageNumber","page","toggleIsLoading","followingIsLoading","setFriendsThunk","items","followThunk","follow","unfollowThunk","unfollow","map","f","followed"],"mappings":"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","file":"static/js/main.204f56bc.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nlet instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"1dd127c8-5cd4-4a97-bd64-42390a8b2174\"\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n  },\r\n  followUser(userId) {\r\n    return instance.post(`follow/${userId}`).then(response => response.data);\r\n  },\r\n  unfollowUser(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then(response => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`/profile/status/${userId}`).then(response => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put('/profile/status', {status: status}).then(response => response.data);\r\n  },\r\n}\r\n\r\nexport const loginAPI = {\r\n  getLogin() {\r\n    return instance.get('auth/me').then(response => response.data);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post('auth/login', { email, password, rememberMe }).then(response => response.data);\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login').then(response => response.data);\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2wy3T\",\"nav\":\"Navbar_nav__zCZ9-\",\"active\":\"Navbar_active__1AeWV\",\"link_settings\":\"Navbar_link_settings__3dLqU\",\"friends\":\"Navbar_friends__1mhke\"};","import React from 'react';\r\nimport s from './Navbar.module.scss';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n\r\n  return (\r\n      <aside className={s.navbar}>\r\n        <nav className={s.nav}>\r\n          <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n          <NavLink to=\"/friends\" activeClassName={s.active}>Friends</NavLink>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n          <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n          <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n          <NavLink to=\"/settings\" activeClassName={s.active} className={s.link_settings}>Settings</NavLink>\r\n        </nav>\r\n      </aside>\r\n  );\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.scss'\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\n\r\nconst News = () => {\r\n  return (\r\n    <div className={s.news}>\r\n      news\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n  withAuthRedirect\r\n)(News)","import React from 'react';\r\nimport s from './Music.module.scss';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div className={s.music}>\r\n      music\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n  withAuthRedirect\r\n)(Music)\r\n","import React from 'react';\r\nimport s from './Settings.module.scss';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.settings}>\r\n            settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect\r\n)(Settings)","import React from 'react';\r\nimport s from'./Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <div className={s.inner}>\r\n        <a href=\"#a\" className={s.logo}>\r\n          <img src=\"https://intercom-online.zp.ua/wp-content/themes/net/img/facebook.png\" alt=\"\" />\r\n        </a>\r\n        <div className={s.auth}>\r\n          {props.isAuth ? <button onClick={props.logout}>exit</button> : null}\r\n          <NavLink to='/login' className={s.auth__login}> {props.isAuth ? props.login : 'login'} </NavLink>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logoutAuthThunk } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render () {\r\n    return <Header login={this.props.login}\r\n      isAuth={this.props.isAuth}\r\n      logout={this.props.logoutAuthThunk} />\r\n  }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logoutAuthThunk })(HeaderContainer);","import { getLoginThunk } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCES: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES });\r\n\r\nexport const initializeAppThunk = () => (dispatch) => {\r\n  let promise = dispatch(getLoginThunk());\r\n  Promise.all([promise]).then(() => { //когда массив промисов зарезолвится, тогда then выполнит функцию. Если один промис можно так promise.then...\r\n    dispatch(initializedSucces());\r\n  } )\r\n}\r\n\r\nexport default appReducer;","import React, { Suspense } from 'react';\nimport {Route} from 'react-router-dom';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport { initializeAppThunk } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport Preloader from './components/elements/Preloader';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')); //ленивая загрузка для компонент\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeAppThunk();\n  }\n\n  render() {\n  if(!this.props.initialized) { //пока инициализация не закончена, показывается прелоадер\n      return <Preloader />\n    }\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <main className=\"main\">\n          <Route path='/profile/:userId?' render={ () => {\n            return <Suspense fallback={<Preloader />}> {/*при задержке показывается прелоадер*/}\n              <ProfileContainer /> {/*когда компонента загрузилась, она отрисовывается*/}\n            </Suspense>\n          } }/>\n          <Route path='/dialogs' render={ () => {\n            return <Suspense fallback={<Preloader />}>\n              <DialogsContainer />\n            </Suspense>\n          } }/>\n          <Route path='/news' component={News} />\n          <Route path='/music' component={Music} />\n          <Route path='/settings' component={Settings} />\n          <Route path='/friends' render={ () => {\n            return <Suspense fallback={<Preloader />}>\n              <FriendsContainer />\n            </Suspense>\n          } } />\n          <Route path='/login' render={ () => {\n            return <Suspense fallback={<Preloader />}>\n              <Login />\n            </Suspense>\n          } } />\n        </main>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized\n  }\n}\n\nexport default connect(mapStateToProps, { initializeAppThunk })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport friendsReducer from './friends-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({ \r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  friendsPage: friendsReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={ store }>\n      <App />\n    </Provider>\n  </HashRouter>, document.getElementById('root'));\n\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      return !this.props.isAuth ? <Redirect to={'/login'} /> :\r\n        <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let connectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n  return connectedRedirectComponent;\r\n\r\n}","import { loginAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      {\r\n        return {\r\n          ...state,\r\n          ...action.data,\r\n          // isAuth: true\r\n        }\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: {userId, email, login, isAuth} });\r\n\r\nexport const getLoginThunk = () => {\r\n  return (dispatch) => {\r\n    return loginAPI.getLogin().then(data => { //добавляя return возвращаем promise в app-reducer => initializeApp\r\n      if(data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const loginAuthThunk = (email, password, rememberMe) => {\r\n  return (dispatch) => {\r\n    loginAPI.login(email, password, rememberMe).then(data => {\r\n      if(data.resultCode === 0) {\r\n        dispatch(getLoginThunk());\r\n      } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'some error';\r\n        dispatch( stopSubmit(\"Login\", {_error: message}) );\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const logoutAuthThunk = () => (dispatch) => {\r\n  loginAPI.logout().then(data => {\r\n    if(data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  })\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport preloader from '../../assets/image/preloader.gif';\r\nimport s from './Preloader.module.scss'\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={s.preloader}>\r\n            <img src={preloader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VPNp\",\"inner\":\"Header_inner__3Ip1c\",\"logo\":\"Header_logo__p8Q79\",\"auth\":\"Header_auth__3gKnl\",\"auth__login\":\"Header_auth__login___3zh1\"};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_PROFILE = 'SET_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst UPDATE_STATUS = 'UPDATE_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  postsData: [{\r\n        id: 1,\r\n        message: 'Hey, what are you doing?',\r\n        like: 10\r\n      },\r\n      {\r\n        id: 2,\r\n        message: 'Hello World!',\r\n        like: 20\r\n      },\r\n    ],\r\n  profileData: null,\r\n  textStatus: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: \r\n      {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.postText,\r\n        like: 0,\r\n      };\r\n      let stateCopy = {...state};\r\n      stateCopy.postsData = [...state.postsData];\r\n      stateCopy.postsData.unshift(newPost);\r\n      stateCopy.newPostText = '';\r\n      return stateCopy;\r\n      }\r\n    case SET_PROFILE:\r\n      {\r\n        return {\r\n          ...state,\r\n          profileData: action.profileData\r\n        }\r\n      }\r\n    case SET_STATUS:\r\n      {\r\n        return {\r\n          ...state,\r\n          textStatus: action.textStatus\r\n        }\r\n      }\r\n    case UPDATE_STATUS:\r\n      {\r\n        return {\r\n          ...state,\r\n          textStatus: action.changeStatus\r\n        }\r\n      }\r\n    case DELETE_POST:\r\n      {\r\n        return {\r\n          ...state,\r\n          postsData: state.postsData.filter(p => p.id !== action.postId)\r\n        }\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: ADD_POST, postText });\r\nexport const setProfile = (profileData) => ({ type: SET_PROFILE, profileData });\r\nexport const setStatus = (textStatus) => ({ type: SET_STATUS, textStatus });\r\nexport const updateStatus = (changeStatus) => ({ type: UPDATE_STATUS, changeStatus});\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId});\r\n\r\nexport const getProfileThunk = (userId) => async (dispatch) => {\r\n  let data = await profileAPI.getProfile(userId);\r\n  dispatch(setProfile(data));\r\n}\r\n\r\n// export const getProfileThunk = (userId) => {\r\n//   return (dispatch) => {\r\n//     profileAPI.getProfile(userId).then(data => {\r\n//       dispatch(setProfile(data));\r\n//     })\r\n//   }\r\n// }\r\n\r\nexport const getStatusThunk = (userId) => async (dispatch) => {\r\n  let data = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(data));\r\n}\r\n\r\nexport const updateStatusThunk = (changeStatus) => async (dispatch) => {\r\n  let data = await profileAPI.updateStatus(changeStatus);\r\n  if (data.resultCode === 0) {\r\n    dispatch(updateStatus(changeStatus))\r\n  }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogsData: [{\r\n        id: 1,\r\n        name: 'Andrew'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Sasha'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Sveta'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Valera'\r\n      },\r\n      {\r\n        id: 5,\r\n        name: 'Viktor'\r\n      },\r\n    ],\r\n    messagesData: [{\r\n        id: 1,\r\n        name: 'Andrew',\r\n        img: 'https://klike.net/uploads/posts/2019-03/medium/1551511829_46.jpg',\r\n        message: 'Hello!',\r\n        class: 'inbox',\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Me',\r\n        img: 'https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png',\r\n        message: 'Hello, friend!',\r\n        class: 'outbox',\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Me',\r\n        img: 'https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png',\r\n        message: 'What are you doing?',\r\n        class: 'outbox',\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Me',\r\n        img: 'https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png',\r\n        message: 'm?',\r\n        class: 'outbox',\r\n      },\r\n      {\r\n        id: 5,\r\n        name: 'Andrew',\r\n        img: 'https://klike.net/uploads/posts/2019-03/medium/1551511829_46.jpg',\r\n        message: 'learn',\r\n        class: 'inbox',\r\n      },\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  \r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      \r\n      {\r\n      let newMessage = {\r\n        id: 6,\r\n        name: 'Me',\r\n        img: 'https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png',\r\n        message: action.message,\r\n        class: 'outbox',\r\n      };\r\n      let copyState = {...state};\r\n      copyState.messagesData = [...state.messagesData];\r\n      copyState.messagesData.push(newMessage);\r\n      return copyState;\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (message) => ({ type: SEND_MESSAGE, message});\r\n\r\nexport default dialogsReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_COUNT_FRIENDS = 'SET_COUNT_FRIENDS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING';\r\nconst FOLLOWING_IS_PROGRESS = 'FOLLOWING_IS_PROGRESS';\r\n\r\nlet initialState = {\r\n  friendsData: [ ],\r\n  totalCount: 0,\r\n  pageSize: 10,\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  followingIsProgress: [],\r\n};\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      {\r\n\r\n        return {\r\n          ...state,\r\n          friendsData: state.friendsData.map( f => {\r\n            if(f.id === action.userId) {\r\n              return {...f, followed: true}\r\n            }\r\n            return f;\r\n          })\r\n        };\r\n\r\n      }\r\n    case UNFOLLOW:\r\n      {\r\n\r\n        return {\r\n          ...state,\r\n          friendsData: state.friendsData.map( f => {\r\n            if(f.id === action.userId) {\r\n              return {...f, followed: false}\r\n            }\r\n            return f;\r\n          })\r\n        };\r\n\r\n      }\r\n    case SET_FRIENDS:\r\n      {\r\n        return {\r\n          ...state,\r\n          friendsData: [ ...action.friendsData ]\r\n        }\r\n      }\r\n    case SET_COUNT_FRIENDS:\r\n      {\r\n        return {\r\n          ...state,\r\n          totalCount: action.totalCount\r\n        }\r\n      }\r\n    case SET_CURRENT_PAGE:\r\n      {\r\n        return {\r\n          ...state,\r\n          currentPage: action.page\r\n        }\r\n      }\r\n    case TOGGLE_IS_LOADING: \r\n      {\r\n        return {\r\n          ...state,\r\n          isLoading: action.isLoading\r\n        }\r\n      }\r\n    case FOLLOWING_IS_PROGRESS:\r\n      {\r\n        return {\r\n          ...state,\r\n          followingIsProgress: action.isLoading ?\r\n          [...state.followingIsProgress, action.userId] :\r\n          state.followingIsProgress.filter(id => id !== action.userId)\r\n        }\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const follow = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollow = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setFriends = (friendsData) => ({ type: SET_FRIENDS, friendsData });\r\nexport const setCountFriends = (totalCount) => ({ type: SET_COUNT_FRIENDS, totalCount });\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, page: pageNumber });\r\nexport const toggleIsLoading = (isLoading) => ({ type: TOGGLE_IS_LOADING, isLoading });\r\nexport const followingIsLoading = (isLoading, userId) => ({ type: FOLLOWING_IS_PROGRESS, isLoading, userId });\r\n\r\nexport const setFriendsThunk = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleIsLoading(true));\r\n    usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n      dispatch(toggleIsLoading(false));\r\n      dispatch(setFriends(data.items));\r\n      dispatch(setCountFriends(data.totalCount));\r\n    });\r\n  }\r\n}\r\n\r\nexport const followThunk = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(followingIsLoading(true, userId));\r\n    usersAPI.followUser(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(follow(userId));\r\n        dispatch(followingIsLoading(false, userId));\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const unfollowThunk = (userId) => {\r\n  return (dispatch) => {\r\n    dispatch(followingIsLoading(true, userId));\r\n    usersAPI.unfollowUser(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollow(userId));\r\n        dispatch(followingIsLoading(false, userId));\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default friendsReducer;","module.exports = \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2tAze\"};"],"sourceRoot":""}